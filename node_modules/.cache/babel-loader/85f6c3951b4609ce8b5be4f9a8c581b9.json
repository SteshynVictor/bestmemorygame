{"ast":null,"code":"import _toConsumableArray from\"/Users/victorsteshyn/Documents/game/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _objectSpread from\"/Users/victorsteshyn/Documents/game/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/Users/victorsteshyn/Documents/game/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import'./Game.scss';import{useEffect,useState}from'react';import{GameCard}from\"./GameCard\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var temp=[];var Game=function Game(){// card array\nvar _useState=useState(null),_useState2=_slicedToArray(_useState,2),card=_useState2[0],setCard=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),start=_useState4[0],setStart=_useState4[1];var _useState5=useState(0),_useState6=_slicedToArray(_useState5,2),click=_useState6[0],setClick=_useState6[1];// check prime fn\nvar isPrime=function isPrime(num){for(var i=2;i<num;i++){if(num%i===0){return false;}}return true;};// rand fn\nvar randSort=function randSort(arr){return arr.sort(function(){return Math.round(Math.random()*100)-50;});};// generate fn\nvar generateCard=function generateCard(from,to){var arr=[];for(var i=from;i<to;i+=2){if(isPrime(i)){arr.push({show:true,active:false,number:i,error:false});}}arr=arr.concat(arr);setCard(randSort(arr));};// start hidding\nvar hideCard=function hideCard(){setCard(card.map(function(item){return item.active?item:_objectSpread(_objectSpread({},item),{},{show:false});}));};// finish fn\nvar checkFinish=function checkFinish(){if(!card.filter(function(item){return item.active==false;}).length){alert('Greet! Well done');}};// clear selected card\nvar clearSelected=function clearSelected(){temp=[];card.map(function(item){return item.active?'':item.show=false;});card.map(function(item){return item.error=false;});setCard(_toConsumableArray(card));};// click event\nvar checkCard=function checkCard(item){setClick(click+1);// clear old\nif(temp.length==2){clearSelected();}// insert new item\ntemp.push(item);temp.map(function(item){return item.show=true;});// two card selected\nif(temp.length==2){if(temp[0].number===temp[1].number){temp.map(function(item){return item.active=true;});}else{temp.map(function(item){return item.error=true;});}}setCard(_toConsumableArray(card));checkFinish();};// on start\nuseEffect(function(){setStart(true);generateCard(1,50);},[]);// on card generated\nuseEffect(function(){setTimeout(function(){return hideCard();},3000);},[start]);return/*#__PURE__*/_jsx(\"div\",{className:\"game \".concat(start?'active':''),onClick:function onClick(){return clearSelected();},children:/*#__PURE__*/_jsxs(\"div\",{className:\"game-content\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"game-title\",children:\"Best memory game\"}),/*#__PURE__*/_jsx(\"div\",{className:\"game-grid\",children:card?card.map(function(item,i){return/*#__PURE__*/_jsx(GameCard,{item:item,show:function show(){return checkCard(item);}},i);}):/*#__PURE__*/_jsx(_Fragment,{})}),/*#__PURE__*/_jsxs(\"div\",{className:\"game-score\",children:[\"Game score: \",click]})]})});};export{Game};","map":{"version":3,"names":["useEffect","useState","GameCard","temp","Game","card","setCard","start","setStart","click","setClick","isPrime","num","i","randSort","arr","sort","Math","round","random","generateCard","from","to","push","show","active","number","error","concat","hideCard","map","item","checkFinish","filter","length","alert","clearSelected","checkCard","setTimeout"],"sources":["/Users/victorsteshyn/Documents/game/src/Game.jsx"],"sourcesContent":["import './Game.scss';\n\nimport { useEffect, useState } from 'react';\nimport { GameCard } from \"./GameCard\";\n\nvar temp=[];\n\nconst Game = () =>{\n\n    // card array\n    const [card,setCard]=useState(null);\n    const [start,setStart]=useState(false);\n    const [click,setClick]=useState(0);\n\n    // check prime fn\n    const isPrime = num =>{\n        for ( var i = 2; i < num; i++ ) {\n            if ( num % i === 0 ) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    // rand fn\n    const randSort = (arr) => {\n        return arr.sort(() => Math.round(Math.random() * 100) - 50);\n    }\n\n    // generate fn\n    const generateCard = (from,to) =>{\n        var arr = [];\n        for ( var i = from; i < to; i+=2 ) {\n            if ( isPrime(i) ) {\n                arr.push({\n                    show:true,\n                    active:false,\n                    number:i,\n                    error:false\n                });\n            }\n        }\n        arr=arr.concat(arr);\n        setCard(randSort(arr));\n    }\n\n    // start hidding\n    const hideCard = () =>{\n        setCard(card.map(item=>item.active?item:{...item,show:false}));\n    }\n    \n    // finish fn\n    const checkFinish = () =>{\n        if(!card.filter(item=>item.active==false).length){\n            alert('Greet! Well done');\n        }\n    }\n\n    // clear selected card\n    const clearSelected = () => {\n        temp=[];\n        card.map(item=>item.active?'':item.show=false);\n        card.map(item=>item.error=false);\n        setCard([...card]);\n    }\n\n    // click event\n    const checkCard = item =>{\n        setClick(click+1);\n\n        // clear old\n        if(temp.length==2){\n            clearSelected();\n        }\n        // insert new item\n        temp.push(item);\n        temp.map(item=>item.show=true);\n\n        // two card selected\n        if(temp.length==2){\n            if(temp[0].number===temp[1].number){\n                temp.map(item=>item.active=true);\n            }else{\n                temp.map(item=>item.error=true);\n            }\n        }\n        setCard([...card]);\n        checkFinish();\n    }\n\n    // on start\n    useEffect(()=>{\n        setStart(true);\n        generateCard(1,50);\n    },[]);\n\n    // on card generated\n    useEffect(()=>{\n        setTimeout(()=>hideCard(),3000);\n    },[start]);\n\n    return (\n        <div className={`game ${start?'active':''}`} onClick={()=>clearSelected()}>\n            <div className='game-content'>\n                <div className=\"game-title\">Best memory game</div>\n                <div className='game-grid'>\n                    {card?card.map((item,i)=>\n                        <GameCard key={i} item={item} show={()=>checkCard(item)}></GameCard>\n                    ):<></>}\n                </div>\n                <div className='game-score'>Game score: {click}</div>\n            </div>\n        </div>\n    )\n}\n\nexport {Game}"],"mappings":"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"},"metadata":{},"sourceType":"module"}